<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Проверка ссылок на фотографии с использованием прокси</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        input, button {
            margin: 10px 0;
            padding: 10px;
            font-size: 16px;
        }
        .link {
            margin: 5px 0;
            padding: 5px;
            display: inline-block;
            width: 100%;
        }
        .exists {
            color: white;
            background-color: green;
        }
        .not-exists {
            color: white;
            background-color: red;
        }

        /* Стили для кнопки с надписью "пизда" */
        .custom-button {
            background-color: #4CAF50; /* Зеленый фон */
            border: none;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 10px 0;
            cursor: pointer;
            border-radius: 8px;
        }

        .custom-button:hover {
            background-color: #45a049; /* Темный зеленый при наведении */
        }
    </style>
</head>
<body>
    <h1>Проверка ссылок на фотографии с использованием прокси</h1>
    <p>Нажмите кнопку, чтобы сгенерировать и проверить существование страниц с использованием нескольких прокси-серверов.</p>
    
    <label for="count">Количество генерируемых ссылок:</label><br>
    <input type="number" id="count" value="500" style="width: 100%;"><br>
    
    <button onclick="generateAndCheckLinks()">Сгенерировать и проверить ссылки</button>
    
    <!-- Кнопка с надписью "пизда" -->
    <button class="custom-button">Пизда</button>
    
    <h2>Сгенерированные ссылки:</h2>
    <div id="links-container"></div>
    
    <script>
        // Прокси-серверы
        const proxyList = [
            "http://208.75.97.97:8080",
            "http://200.89.178.2:3128",
            "http://185.2.7.25:8080",
            "http://47.74.9.20:8080",
            "http://123.456.789.10:8080" // Замените на рабочие прокси
        ];

        // Проверка доступности ссылки
        async function checkLink(url, proxy) {
            try {
                const response = await fetch(url, { 
                    method: 'HEAD',
                    mode: 'no-cors', // Это помогает избежать проблемы с CORS, но может ограничивать работу
                    headers: {
                        'X-Forwarded-For': proxy
                    }
                });
                return response.ok; // true если код состояния 200-299
            } catch (error) {
                return false; // Если запрос не удался
            }
        }

        // Генерация и проверка ссылок
        async function generateAndCheckLinks() {
            const baseUrl = "https://biit39.ru/";
            const count = parseInt(document.getElementById("count").value);
            const linksContainer = document.getElementById("links-container");

            if (isNaN(count) || count <= 0) {
                alert("Пожалуйста, введите допустимое число!");
                return;
            }

            linksContainer.innerHTML = ""; // Очистить предыдущие результаты

            const promises = [];
            for (let i = 0; i < count; i++) {
                const randomDigits = Math.floor(1000000000 + Math.random() * 9000000000); // 10 случайных цифр
                const url = `${baseUrl}${randomDigits}`;
                const proxy = proxyList[i % proxyList.length]; // Используем прокси по кругу

                // Создаем элемент ссылки
                const linkElement = document.createElement("div");
                linkElement.className = "link";
                linkElement.textContent = url;
                linksContainer.appendChild(linkElement);

                // Добавляем промис для проверки ссылки
                promises.push(checkLink(url, proxy).then((exists) => {
                    linkElement.classList.add(exists ? "exists" : "not-exists");
                }));
            }

            // Ожидаем завершения всех проверок
            await Promise.all(promises);
        }
    </script>
</body>
</html>