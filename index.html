<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Проверка ссылок на фото</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 20px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
        ul {
            margin-top: 20px;
            list-style: none;
            padding: 0;
        }
        li {
            margin: 5px 0;
        }
        .working {
            color: green;
            font-weight: bold;
        }
        .not-working {
            color: red;
        }
    </style>
</head>
<body>
    <h1>Проверка рабочих ссылок</h1>
    <p>Нажмите на кнопку, чтобы проверить ссылки. Отобразятся первые 10 рабочих ссылок.</p>
    <button id="generate">Начать проверку</button>
    <ul id="results"></ul>

    <script>
        async function checkLink(url) {
            try {
                const response = await fetch(url, { method: 'HEAD' });
                return response.ok; // Возвращает true, если ссылка работает
            } catch (error) {
                return false;
            }
        }

        async function generateLinks() {
            const baseURL = "https://xxfot.com/photo/"; // Основа ссылки
            const results = document.getElementById("results");
            results.innerHTML = ""; // Очищаем список перед новой проверкой
            let foundLinks = 0; // Счетчик рабочих ссылок
            const maxLinks = 10; // Количество рабочих ссылок для отображения

            for (let i = 1; i <= 1000; i++) { // Подбор ID от 1 до 1000
                if (foundLinks >= maxLinks) break; // Останавливаемся, когда нашли нужное количество ссылок

                const url = `${baseURL}${i}`;
                const isValid = await checkLink(url);

                const listItem = document.createElement("li");
                listItem.textContent = url;

                if (isValid) {
                    listItem.className = "working";
                    foundLinks++;
                } else {
                    listItem.className = "not-working";
                }

                results.appendChild(listItem);

                // Прекращаем, если нашли 10 рабочих ссылок
                if (foundLinks === maxLinks) break;
            }

            if (foundLinks === 0) {
                const noResults = document.createElement("li");
                noResults.textContent = "Не удалось найти рабочие ссылки.";
                noResults.className = "not-working";
                results.appendChild(noResults);
            }
        }

        document.getElementById("generate").addEventListener("click", generateLinks);
    </script>
</body>
</html>